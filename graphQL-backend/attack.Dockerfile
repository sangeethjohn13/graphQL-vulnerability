# pull image of node v12

FROM node:16-alpine

ENV MONGODB_HOST mongodb
ENV MONGODB_DB vulnapp
ENV MONGODB_PW vulnapppwd
ENV MONGODB_PORT 27017
ENV PORT 3001

# Create app directory

WORKDIR /usr/src/app

# Install app dependencies

# A wildcard is used to ensure both package.json AND package-lock.json are copied

COPY package\*.json ./

RUN npm install

# Bundle app source

COPY . .

EXPOSE 3001
CMD [ "node", "attackerServer.js" ]
